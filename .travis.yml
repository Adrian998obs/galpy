language: python
python:
  - "2.7"
virtualenv:
  system_site_packages: true
before_install:
 - sudo apt-get install libgsl0-dev
 - sudo apt-get install -qq python-numpy python-scipy python-matplotlib
# command to install dependencies
install:
 - pip install coveralls
 - pip install nose-cov
 - python setup.py install
script:
# - coverage run --source=/home/travis/virtualenv/python2.7_with_system_site_packages/lib/python2.7/site-packages/galpy-0.1-py2.7-linux-x86_64.egg/galpy /usr/local/bin/nosetests -v nose/
 - nosetests -v -w nose/ --with-cov --cov /home/travis/virtualenv/python2.7_with_system_site_packages/lib/python2.7/site-packages/galpy-0.1-py2.7-linux-x86_64.egg/galpy
# - nosetests -v -w nose/
after_sucess:
 coveralls
notifications:
  email:
    recipients:
      - jo.bovy@gmail.com
    on_success: change
    on_failure: change
