language: python
python:
  - "2.7"
env:
  - CC=gcc
  - CC=clang
virtualenv:
  system_site_packages: true
before_install:
 - sudo apt-get install libgsl0-dev
 - sudo apt-get install -qq python-numpy python-scipy python-matplotlib
# command to install dependencies
install:
 - pip install cpp-coveralls
 - pip install coveralls
 - pip install nose-cov
 - python setup.py develop --coverage
script:
 - nosetests -v -w nose/ --with-cov --cov galpy
after_success:
 - if [[ $CC == 'clang' ]]; then cpp-coveralls ; else coveralls ; fi
# - coveralls
# - cpp-coveralls
notifications:
  email:
    recipients:
      - jo.bovy@gmail.com
    on_success: change
    on_failure: change
